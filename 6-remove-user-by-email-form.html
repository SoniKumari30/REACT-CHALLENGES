<html>
<title>
</title>

<body>
    <div id="root"></div>

    <!-- https://unpkg.com/react@16.13.1/umd/react.development.js -->
    <script src="./js/react.development.js"></script>
    <!-- https://unpkg.com/react-dom@16.13.1/umd/react-dom.development.js -->
    <script src="./js/react-dom.development.js"></script>
    <!-- https://unpkg.com/babel-standalone@6.26.0/babel.js -->
    <script src="./js/babel.js"></script>
    <script type="text/babel">
    const rootHandle = document.getElementById('root')

    class Users extends React.Component{
        constructor(){
            super()
            this.state = {
     users: [
     
                {id: 1, name: 'user1', email:'user1@gmail.com'},
                {id: 2, name: 'user2', email:'user2@gmail.com'},
                {id: 3, name: 'user3', email:'user3@gmail.com'},
                {id: 4, name: 'user4', email:'user4@gmail.com'}
            ],
            

            }
        }
           handleEmailChange = (e) =>{
               const email = e.target.value
            this.setState({email})
           }

           handleSubmit = (e) => {
               e.preventDefault()
               const email = this.state.email
               this.setState(function(prevState){
                       return{
                           users:prevState.users.filter(function(user){
                               return user.email != email
                           })
                       }
                   })

               }
              
                         
          
        render(){
            return(<div>
            <h1>Listing Users - {this.state.users.length}</h1>
            
            <table border = "1">
                <thead>
                 <tr>
                    <th>#</th>
                    <th>name</th>
                    <th>email</th>
                 </tr>
                </thead>
             <tbody>
                    {
                        this.state.users.map(function(user){
                            return( <tr key ={user.id}>
                            <td>{user.id}</td>
                            <td>{user.name}</td>
                            <td>{user.email}</td>
                            </tr>
                            )
                           
                        })
                    }
                    
             </tbody>
            </table>

            <h2>Form</h2>
                    <form onSubmit={this.handleSubmit}>        
                    <input type = "text" id="emailId" value = {this.state.email}  placeholder="enter email to remove" onChange = {this.handleEmailChange} /> 
                    <input type='submit' />
                    
            </form>
           
            </div>
            )
            
        }
    }

    ReactDOM.render(<Users />,rootHandle)



            
 </script>
</body>

</html>